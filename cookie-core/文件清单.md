# Cookieç”Ÿæˆæ ¸å¿ƒæ–‡ä»¶æ¸…å•

## ğŸ“Š æå–ç»Ÿè®¡

- **æ€»æ–‡ä»¶æ•°**: 37ä¸ª JavaScriptæ–‡ä»¶
- **æ ¸å¿ƒç®—æ³•**: 4ä¸ª
- **æ•°æ®è½¬æ¢**: 11ä¸ª
- **å·¥å…·å‡½æ•°**: 10ä¸ª
- **é…ç½®ç®¡ç†**: 3ä¸ª
- **é€‚é…å™¨**: 3ä¸ª
- **ç¤ºä¾‹æ–‡æ¡£**: 3ä¸ª

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
cookie-core/                                    # æ ¸å¿ƒæ¨¡å—æ ¹ç›®å½•
â”œâ”€â”€ README.md                                   # ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ package.json                                # ä¾èµ–é…ç½®
â”œâ”€â”€ example-usage.js                            # ä½¿ç”¨ç¤ºä¾‹ â­
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ index.js                           # é…ç½®å…¥å£
â”‚   â”‚   â””â”€â”€ makecookieRuntimeConfig.js         # Cookieè¿è¡Œæ—¶é…ç½®
â”‚   â”‚
â”‚   â””â”€â”€ handler/
â”‚       â”œâ”€â”€ Cookie.js                          # ğŸ”¥ Cookieç”Ÿæˆå™¨æ ¸å¿ƒ
â”‚       â”œâ”€â”€ globalVarible.js                   # ğŸ”¥ å…¨å±€å˜é‡ç®¡ç†
â”‚       â”‚
â”‚       â”œâ”€â”€ basearr/                           # æµè§ˆå™¨æŒ‡çº¹ç”Ÿæˆ
â”‚       â”‚   â”œâ”€â”€ index.js                       # ğŸ”¥ é€‚é…å™¨ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ len123.js                      # é•¿åº¦123é€‚é…å™¨
â”‚       â”‚   â”œâ”€â”€ len127.js                      # é•¿åº¦127é€‚é…å™¨
â”‚       â”‚   â””â”€â”€ len103.js                      # é•¿åº¦103é€‚é…å™¨
â”‚       â”‚
â”‚       â””â”€â”€ parser/                            # è§£æå’ŒåŠ å¯†æ¨¡å—
â”‚           â”œâ”€â”€ index.js                       # è§£æå™¨å…¥å£
â”‚           â”œâ”€â”€ constData.js                   # å¸¸é‡æ•°æ®
â”‚           â”‚
â”‚           â””â”€â”€ common/                        # é€šç”¨ç®—æ³•åº“
â”‚               â”œâ”€â”€ index.js                   # ç®—æ³•åº“å…¥å£
â”‚               â”‚
â”‚               â”œâ”€â”€ ========== æ ¸å¿ƒåŠ å¯†ç®—æ³• ==========
â”‚               â”œâ”€â”€ numarrEncrypt.js           # ğŸ”¥ å“ˆå¤«æ›¼ç¼–ç å‹ç¼©
â”‚               â”œâ”€â”€ modeEncrypt.js             # ğŸ”¥ AES-CBCåŠ å¯†
â”‚               â”œâ”€â”€ uuid.js                    # ğŸ”¥ CRC32/UUIDç®—æ³•
â”‚               â”œâ”€â”€ numarr2string.js           # ğŸ”¥ Base64å˜ä½“è½¬æ¢
â”‚               â”‚
â”‚               â”œâ”€â”€ ========== æ•°æ®è½¬æ¢ ==========
â”‚               â”œâ”€â”€ numToNumarr2.js            # æ•°å­—è½¬2å­—èŠ‚æ•°ç»„
â”‚               â”œâ”€â”€ numToNumarr4.js            # æ•°å­—è½¬4å­—èŠ‚æ•°ç»„
â”‚               â”œâ”€â”€ numToNumarr8.js            # æ•°å­—è½¬8å­—èŠ‚æ•°ç»„
â”‚               â”œâ”€â”€ combine4.js                # 4å­—èŠ‚åˆå¹¶
â”‚               â”œâ”€â”€ numarrAddTime.js           # æ—¶é—´æ•°ç»„æ“ä½œ
â”‚               â”œâ”€â”€ numarrJoin.js              # æ•°ç»„æ‹¼æ¥
â”‚               â”‚
â”‚               â”œâ”€â”€ ========== å­—ç¬¦ä¸²å¤„ç† ==========
â”‚               â”œâ”€â”€ string2ascii.js            # å­—ç¬¦ä¸²è½¬ASCII
â”‚               â”œâ”€â”€ ascii2string.js            # ASCIIè½¬å­—ç¬¦ä¸²
â”‚               â”œâ”€â”€ decrypt.js                 # è§£å¯†å‡½æ•°
â”‚               â”œâ”€â”€ decode.js                  # è§£ç å‡½æ•°
â”‚               â”œâ”€â”€ extrace.js                 # æå–å‡½æ•°
â”‚               â”‚
â”‚               â”œâ”€â”€ ========== å·¥å…·å‡½æ•° ==========
â”‚               â”œâ”€â”€ tools.js                   # å¼‚æˆ–ç­‰å·¥å…·
â”‚               â”œâ”€â”€ random.js                  # éšæœºæ•°ç”Ÿæˆ
â”‚               â”œâ”€â”€ fixedValue20.js            # å›ºå®šå€¼æ•°ç»„
â”‚               â”œâ”€â”€ getFixedNumber.js          # è·å–å›ºå®šæ•°å­—
â”‚               â”œâ”€â”€ hexnum.js                  # åå…­è¿›åˆ¶å¤„ç†
â”‚               â”œâ”€â”€ swap.js                    # äº¤æ¢å‡½æ•°
â”‚               â””â”€â”€ bitwiseTwoNumarr.js        # ä½è¿ç®—
â”‚
â””â”€â”€ utils/                                     # å·¥å…·æ¨¡å—
    â”œâ”€â”€ logger.js                              # æ—¥å¿—å·¥å…·
    â”œâ”€â”€ simpleCrypt.js                         # ç®€å•åŠ å¯†
    â””â”€â”€ unescape.js                            # unescapeå‡½æ•°
```

---

## ğŸ”¥ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### 1. Cookie.js (æ ¸å¿ƒå…¥å£)
**åŠŸèƒ½**: Cookieç”Ÿæˆçš„ä¸»æµç¨‹æ§åˆ¶
**ä¾èµ–**: parseræ¨¡å—ã€basearræ¨¡å—ã€globalVarible
**è¾“å‡º**: 257ä½çš„Cookieå­—ç¬¦ä¸²

### 2. æ ¸å¿ƒåŠ å¯†ç®—æ³• (4ä¸ª)

#### numarrEncrypt.js
- **åŠŸèƒ½**: å“ˆå¤«æ›¼ç¼–ç å‹ç¼©
- **è¾“å…¥**: æ•°å­—æ•°ç»„ (å¦‚basearr)
- **è¾“å‡º**: å‹ç¼©åçš„æ•°ç»„
- **å‹ç¼©ç‡**: çº¦60-70%

#### modeEncrypt.js
- **åŠŸèƒ½**: AES-CBCæ¨¡å¼åŠ å¯†/è§£å¯†
- **åŒ…å«**: encryptMode1ï¼ˆåŠ å¯†ï¼‰ã€encryptMode2ï¼ˆè§£å¯†ï¼‰
- **å¯†é’¥é•¿åº¦**: æ”¯æŒ128/192/256ä½

#### uuid.js
- **åŠŸèƒ½**: CRC32æ ¡éªŒç è®¡ç®—
- **è¾“å…¥**: å­—ç¬¦ä¸²æˆ–æ•°å­—æ•°ç»„
- **è¾“å‡º**: 32ä½æ— ç¬¦å·æ•´æ•°

#### numarr2string.js
- **åŠŸèƒ½**: æ•°ç»„è½¬Base64å˜ä½“å­—ç¬¦ä¸²
- **å­—ç¬¦é›†**: è‡ªå®šä¹‰64å­—ç¬¦é›†
- **ç”¨é€”**: æœ€ç»ˆCookieè¾“å‡ºè½¬æ¢

### 3. basearrç”Ÿæˆå™¨ (ç½‘ç«™é€‚é…)

#### index.js
- **åŠŸèƒ½**: æ ¹æ®hostnameé€‰æ‹©é€‚é…å™¨
- **æ”¯æŒ**: è‡ªåŠ¨åŠ è½½å’Œç®¡ç†æ‰€æœ‰é€‚é…å™¨

#### len123.js / len127.js / len103.js
- **åŠŸèƒ½**: ä¸åŒé•¿åº¦çš„basearrç”Ÿæˆé€»è¾‘
- **åŒ…å«**: æµè§ˆå™¨æŒ‡çº¹ã€æ—¶é—´æˆ³ã€ä»£ç ç‰¹å¾ç­‰

### 4. æ•°æ®è½¬æ¢å·¥å…· (11ä¸ª)

| æ–‡ä»¶ | åŠŸèƒ½ | è¾“å…¥ | è¾“å‡º |
|------|------|------|------|
| numToNumarr2.js | æ•°å­—è½¬2å­—èŠ‚ | 16ä½æ•´æ•° | [byte, byte] |
| numToNumarr4.js | æ•°å­—è½¬4å­—èŠ‚ | 32ä½æ•´æ•° | [b, b, b, b] |
| numToNumarr8.js | æ•°å­—è½¬8å­—èŠ‚ | 64ä½æ•´æ•° | [b*8] |
| combine4.js | 4å­—èŠ‚åˆå¹¶ | [b*4n] | [32ä½æ•´æ•°*n] |
| numarrAddTime.js | æ—¶é—´æ•°ç»„ | å¯†é’¥+æ—¶é—´ | å¤„ç†åçš„æ•°ç»„ |
| numarrJoin.js | æ•°ç»„æ‹¼æ¥ | å¤šä¸ªæ•°ç»„ | æ‹¼æ¥åçš„æ•°ç»„ |

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: å·²æœ‰å®Œæ•´Coderå¯¹è±¡
```javascript
const Cookie = require('./src/handler/Cookie');
const cookie = new Cookie(coder).run();
```

### åœºæ™¯2: æ‰‹åŠ¨é…ç½®å‚æ•°
```javascript
const gv = require('./src/handler/globalVarible');
// é…ç½® gv.keys, gv.config, gv.makecookieRuntimeConfig
const cookie = new Cookie(fakeCoder).run();
```

### åœºæ™¯3: åªä½¿ç”¨åŠ å¯†ç®—æ³•
```javascript
const { numarrEncrypt, encryptMode1, uuid } = require('./src/handler/parser');
// è‡ªå·±å®ç°å®Œæ•´æµç¨‹
```

---

## ğŸ“¦ ä¾èµ–å…³ç³»

### å¤–éƒ¨ä¾èµ–
```json
{
  "lodash": "^4.17.21",    // å·¥å…·åº“
  "log4js": "^6.9.1"       // æ—¥å¿—åº“
}
```

### å†…éƒ¨ä¾èµ–å›¾
```
Cookie.js
  â”œâ”€â†’ parser/index.js
  â”‚     â”œâ”€â†’ common/numarrEncrypt.js
  â”‚     â”œâ”€â†’ common/modeEncrypt.js
  â”‚     â”œâ”€â†’ common/uuid.js
  â”‚     â””â”€â†’ common/numarr2string.js
  â”‚
  â”œâ”€â†’ basearr/index.js
  â”‚     â””â”€â†’ len*.js (é€‚é…å™¨)
  â”‚
  â””â”€â†’ globalVarible.js
        â””â”€â†’ config/makecookieRuntimeConfig.js
```

---

## ğŸ¯ æ ¸å¿ƒç®—æ³•æµç¨‹

```
è¾“å…¥: basearr (æµè§ˆå™¨æŒ‡çº¹æ•°ç»„)
  â†“
[1] å“ˆå¤«æ›¼ç¼–ç å‹ç¼© (numarrEncrypt)
  â†“
[2] å¼‚æˆ–åŠ å¯† (xor with keys[2])
  â†“
[3] AES-CBCåŠ å¯† (encryptMode1, round 1)
  â†“
[4] æ„å»ºä¸‹ä¸€å±‚æ•°ç»„ (æ·»åŠ æ—¶é—´æˆ³)
  â†“
[5] æ·»åŠ UUIDæ ¡éªŒç  (uuid)
  â†“
[6] AES-CBCåŠ å¯† (encryptMode1, round 2)
  â†“
[7] Base64å˜ä½“è½¬æ¢ (numarr2string)
  â†“
è¾“å‡º: '0' + Cookieå­—ç¬¦ä¸² (257ä½)
```

---

## âœ… ä¼˜åŠ¿

1. **ç‹¬ç«‹æ€§**: ä¸ä¾èµ–å®Œæ•´é¡¹ç›®ï¼Œå¯å•ç‹¬ä½¿ç”¨
2. **ç²¾ç®€**: åªåŒ…å«Cookieç”Ÿæˆå¿…éœ€çš„37ä¸ªæ–‡ä»¶
3. **å®Œæ•´æ€§**: åŒ…å«æ‰€æœ‰æ ¸å¿ƒç®—æ³•å’Œé€‚é…å™¨
4. **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°çš„ç½‘ç«™é€‚é…å™¨
5. **æ–‡æ¡£é½å…¨**: åŒ…å«READMEå’Œä½¿ç”¨ç¤ºä¾‹

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **éœ€è¦Coderè¾“å‡º**: å¿…é¡»å…ˆè§£æè™šæ‹Ÿæœºä»£ç è·å–keys
2. **å…¨å±€å˜é‡åˆå§‹åŒ–**: gv.keyså’Œgv.configå¿…é¡»æ­£ç¡®è®¾ç½®
3. **æ—¶é—´åŒæ­¥**: ä¾èµ–å‡†ç¡®çš„æ—¶é—´æˆ³
4. **ç½‘ç«™é€‚é…**: ä¸åŒç½‘ç«™éœ€è¦ä¸åŒçš„basearré€»è¾‘
5. **éšæœºæ•°æ§åˆ¶**: è°ƒè¯•æ—¶ä½¿ç”¨å›ºå®šå€¼ï¼Œç”Ÿäº§ç”¨çœŸéšæœº

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `README.md` - å¿«é€Ÿå¼€å§‹æŒ‡å—
- `example-usage.js` - è¯¦ç»†ä½¿ç”¨ç¤ºä¾‹
- `../ç‘æ•°CookieåŠ å¯†æ ¸å¿ƒå®ç°æ–‡æ¡£.md` - å®Œæ•´æŠ€æœ¯æ–‡æ¡£

---

**æå–æ—¶é—´**: 2025-12-13  
**åŸé¡¹ç›®**: rs-reverse v1.15.1  
**æå–è„šæœ¬**: extract-cookie-core.sh
